
<html>
<head>
<title>Responsive Interactive Demo</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0f1724; --card:#0b1220; --muted:#9aa4b2; --accent:#7dd3fc; --success:#16a34a;
    --danger:#ef4444; --glass: rgba(255,255,255,0.03);
    --radius:12px; --gap:16px; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; background:linear-gradient(180deg,#071026 0%, #071621 60%);
    color:#e6eef6; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    padding:24px; display:flex; align-items:flex-start; justify-content:center;
  }

  .container{
    width:100%; max-width:1100px; display:grid; gap:var(--gap);
    grid-template-columns: 1fr 360px;
  }

  /* responsive: stack on small */
  @media (max-width:920px){
    .container{ grid-template-columns: 1fr; padding-bottom:40px }
    .sidebar{ order:-1 }
  }

  .card{
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:var(--radius); padding:18px; box-shadow: 0 6px 20px rgba(2,6,23,0.6);
    border:1px solid rgba(255,255,255,0.03);
  }

  h1{margin:0 0 8px 0; font-size:20px; font-weight:600}
  p.lead{margin:0 0 18px 0; color:var(--muted); font-size:13px}

  form .row{ display:flex; gap:12px; margin-bottom:12px; align-items:center }
  form .col{ flex:1; min-width:0 }
  label{ display:block; font-size:12px; color:var(--muted); margin-bottom:6px }
  input[type="text"], input[type="number"], input[type="date"], input[type="time"],
  select, textarea, input[type="color"], input[type="file"]{
    width:100%; padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,0.04);
    background:transparent; color:inherit; outline:none; font-size:14px;
  }
  textarea{ min-height:90px; resize:vertical; }

  .controls{ display:grid; gap:12px; grid-template-columns: repeat(2,1fr); }
  @media (max-width:560px){ .controls{ grid-template-columns: 1fr } }

  .range-wrap{ display:flex; gap:12px; align-items:center }
  .range-value{ min-width:48px; text-align:center; font-weight:600; color:var(--accent) }

  .btn{
    display:inline-flex; gap:8px; align-items:center; justify-content:center;
    padding:10px 14px; border-radius:10px; background:linear-gradient(90deg,#0369a1,#7dd3fc33);
    color:#042e3c; font-weight:600; border:none; cursor:pointer;
  }

  .muted-line{ font-size:13px; color:var(--muted); margin-top:8px }

  /* preview area */
  .preview{
    min-height:220px; border-radius:10px; border:1px dashed rgba(255,255,255,0.04);
    padding:12px; background:linear-gradient(90deg, rgba(125,211,252,0.03), rgba(125,211,252,0.01));
  }
  .live-output{ display:flex; gap:12px; flex-wrap:wrap; align-items:center }

  .chip{ padding:6px 10px; border-radius:999px; background:var(--glass); color:var(--accent); font-weight:600 }

  /* sidebar log */
  .sidebar{ width:100%; max-width:360px; }
  .log{ height:520px; overflow:auto; padding:12px; background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent); border-radius:10px; border:1px solid rgba(255,255,255,0.02) }
  .entry{ margin-bottom:8px; padding:8px; border-radius:8px; background:rgba(255,255,255,0.02); font-size:13px; color:var(--muted) }
  .entry .time{ font-size:11px; color:#7b8794; margin-bottom:4px }
  .small{ font-size:12px; color:var(--muted) }

  .drag-drop{
    border:2px dashed rgba(125,211,252,0.12); padding:18px; border-radius:10px; text-align:center;
    transition:background .15s, border-color .15s;
  }
  .drag-drop.active{ background: rgba(125,211,252,0.03); border-color:var(--accent) }

  footer{ margin-top:12px; font-size:12px; color:var(--muted); text-align:center }
  .status{ margin-top:10px; display:flex; gap:8px; flex-wrap:wrap; align-items:center }
  .status .ok{ color:var(--success); font-weight:600 }
  .status .err{ color:var(--danger); font-weight:600 }

  /* accessibility focus */
  :focus{ outline: 3px solid rgba(125,211,252,0.12); outline-offset:3px; border-radius:8px; }

  /* responsive scaling for preview */
  .preview .big-text{ font-size:clamp(14px, 2.8vw, 20px); font-weight:600; }
</style>
</head>
<body>
  <div class="container" role="main" aria-labelledby="title">
    <div class="card" aria-live="polite">
      <h1 id="title">Responsive Interactive Demo</h1>
      <p class="lead">Try different inputs. Every interaction updates the preview and the event log in real time.</p>

      <form id="demoForm" autocomplete="off" novalidate>
        <div class="controls">
          <div>
            <label for="txt">Text input</label>
            <input id="txt" type="text" placeholder="Type something..." aria-label="text input">
          </div>

          <div>
            <label for="num">Number input</label>
            <input id="num" type="number" min="0" max="100" value="42" aria-label="number input">
          </div>

          <div>
            <label for="range">Range</label>
            <div class="range-wrap">
              <input id="range" type="range" min="0" max="100" value="50" aria-label="range slider">
              <div id="rangeVal" class="range-value">50</div>
            </div>
          </div>

          <div>
            <label for="color">Color</label>
            <input id="color" type="color" value="#7dd3fc" aria-label="color picker">
          </div>

          <div>
            <label for="date">Date</label>
            <input id="date" type="date" aria-label="date input">
          </div>

          <div>
            <label for="time">Time</label>
            <input id="time" type="time" aria-label="time input">
          </div>

          <div>
            <label for="select">Select</label>
            <select id="select" aria-label="select input">
              <option value="none">Choose animation</option>
              <option value="fade">fade</option>
              <option value="slide">slide</option>
              <option value="pulse">pulse</option>
            </select>
          </div>

          <div>
            <label>Options</label>
            <div style="display:flex;gap:8px;">
              <label class="small"><input id="optA" type="checkbox"> Option A</label>
              <label class="small"><input id="optB" type="checkbox"> Option B</label>
            </div>
          </div>

          <div>
            <label>Choice</label>
            <div style="display:flex;gap:8px;">
              <label class="small"><input name="choice" type="radio" value="one" checked> One</label>
              <label class="small"><input name="choice" type="radio" value="two"> Two</label>
            </div>
          </div>

          <div>
            <label for="file">File upload</label>
            <input id="file" type="file" accept="image/*" aria-label="file input">
          </div>

          <div style="grid-column: span 2;">
            <label for="area">Textarea</label>
            <textarea id="area" placeholder="Write a multi-line message" aria-label="text area"></textarea>
          </div>

        </div>

        <div style="display:flex;gap:12px;margin-top:12px;flex-wrap:wrap;align-items:center;">
          <button id="submitBtn" type="submit" class="btn" aria-label="submit form">Submit</button>
          <button id="resetBtn" type="button" class="btn" style="background:linear-gradient(90deg,#ef4444,#ffb4b4);" aria-label="reset">Reset</button>
          <div class="muted-line">Keyboard: press <kbd>Enter</kbd> to submit, <kbd>Esc</kbd> to reset</div>
        </div>
      </form>

      <hr style="border:none;border-top:1px solid rgba(255,255,255,0.02);margin:16px 0">

      <div class="preview" id="preview" tabindex="0" aria-label="live preview area">
        <div class="live-output" id="liveOutput">
          <div class="chip" id="chipText">Hello</div>
          <div class="big-text" id="bigText">Interactive preview</div>
        </div>

        <div style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap;align-items:center;">
          <div class="small">Number:</div><div id="outNum" class="chip">42</div>
          <div class="small">Range:</div><div id="outRange" class="chip">50</div>
          <div class="small">Color:</div><div id="outColor" class="chip">#7dd3fc</div>
        </div>

        <div id="uploadedPreview" style="margin-top:12px"></div>
      </div>

      <footer>
        <div class="status">
          <div class="small">Status:</div>
          <div class="ok">Live</div>
        </div>
      </footer>
    </div>

    <aside class="sidebar card" aria-label="event log">
      <h1 style="font-size:16px;margin-bottom:8px">Event Log</h1>
      <div class="log" id="log" role="log" aria-live="polite"></div>

      <div style="margin-top:12px">
        <div class="drag-drop" id="dropzone">Drag & drop images here or click to open file picker</div>
      </div>
    </aside>
  </div>

<script>
  // Core elements
  const logEl = document.getElementById('log');
  const txt = document.getElementById('txt');
  const num = document.getElementById('num');
  const range = document.getElementById('range');
  const rangeVal = document.getElementById('rangeVal');
  const color = document.getElementById('color');
  const select = document.getElementById('select');
  const area = document.getElementById('area');
  const file = document.getElementById('file');
  const preview = document.getElementById('preview');
  const chipText = document.getElementById('chipText');
  const bigText = document.getElementById('bigText');
  const outNum = document.getElementById('outNum');
  const outRange = document.getElementById('outRange');
  const outColor = document.getElementById('outColor');
  const uploadedPreview = document.getElementById('uploadedPreview');
  const form = document.getElementById('demoForm');
  const resetBtn = document.getElementById('resetBtn');
  const submitBtn = document.getElementById('submitBtn');
  const dropzone = document.getElementById('dropzone');

  // Small helper
  const now = () => new Date().toLocaleTimeString();
  function addLog(title, detail){
    const el = document.createElement('div');
    el.className = 'entry';
    el.innerHTML = '<div class="time">' + now() + '</div><div><strong style="color:#dbeafe;">' + title + '</strong><div class="small">' + detail + '</div></div>';
    logEl.prepend(el);
  }

  // Initial state
  addLog('App loaded', 'Interactive demo is ready');

  // Text input -> live preview
  txt.addEventListener('input', (e) => {
    const v = e.target.value || 'Hello';
    chipText.textContent = v.length > 20 ? v.slice(0,20) + '…' : v;
    addLog('Text changed', v);
  });

  // Number input
  num.addEventListener('input', (e) => {
    const v = e.target.value;
    outNum.textContent = v;
    bigText.style.fontSize = Math.max(12, Math.min(36, 12 + Number(v)/3)) + 'px';
    addLog('Number changed', v);
  });

  // Range slider
  range.addEventListener('input', (e) => {
    const v = e.target.value;
    rangeVal.textContent = v;
    outRange.textContent = v;
    preview.style.opacity = 0.6 + (v/100)*0.4;
    addLog('Range moved', v);
  });

  // Color
  color.addEventListener('input', (e) => {
    const v = e.target.value;
    outColor.textContent = v;
    chipText.style.background = v + '22';
    chipText.style.color = getContrast(v) ? '#021923' : '#e6eef6';
    chipText.style.border = '1px solid ' + v;
    addLog('Color picked', v);
  });

  // Select change -> animation classes
  select.addEventListener('change', (e) => {
    const v = e.target.value;
    applyAnimation(v);
    addLog('Animation selected', v);
  });

  // Textarea
  area.addEventListener('input', (e) => {
    addLog('Textarea', e.target.value.slice(0,60));
  });

  // File input (single)
  file.addEventListener('change', (e) => {
    handleFiles(e.target.files);
    addLog('File selected', e.target.files.length + ' file(s)');
  });

  // Form submit
  form.addEventListener('submit', (e) => {
    e.preventDefault();
    const data = {
      text: txt.value,
      number: num.value,
      range: range.value,
      color: color.value,
      date: document.getElementById('date').value,
      time: document.getElementById('time').value,
      select: select.value,
      checkboxA: document.getElementById('optA').checked,
      checkboxB: document.getElementById('optB').checked,
      choice: document.querySelector('input[name="choice"]:checked').value,
      message: area.value
    };
    addLog('Form submitted', JSON.stringify(data));
    submitBtn.animate([{transform:'scale(1)'},{transform:'scale(1.04)'},{transform:'scale(1)'}],{duration:300});
  });

  // Reset
  resetBtn.addEventListener('click', resetAll);
  window.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') resetAll();
    if (e.key === 'Enter' && (document.activeElement.tagName !== 'TEXTAREA')) {
      form.requestSubmit();
    }
  });

  function resetAll(){
    form.reset();
    chipText.textContent = 'Hello';
    bigText.style.fontSize = '';
    outNum.textContent = '42';
    outRange.textContent = '50';
    range.value = 50;
    rangeVal.textContent = 50;
    outColor.textContent = '#7dd3fc';
    uploadedPreview.innerHTML = '';
    addLog('Reset', 'Form and preview reset');
  }

  // Drag and drop
  ;['dragenter','dragover'].forEach(ev => {
    dropzone.addEventListener(ev, (e) => {
      e.preventDefault(); e.stopPropagation();
      dropzone.classList.add('active');
    });
  });
  ;['dragleave','drop'].forEach(ev => {
    dropzone.addEventListener(ev, (e) => {
      e.preventDefault(); e.stopPropagation();
      if (ev === 'drop') {
        const dt = e.dataTransfer;
        if (dt && dt.files && dt.files.length) handleFiles(dt.files);
        addLog('File dropped', (dt.files && dt.files.length) + ' file(s)');
      }
      dropzone.classList.remove('active');
    });
  });

  // Make dropzone clickable to open file picker
  dropzone.addEventListener('click', () => file.click());

  // Handle files (show image preview)
  function handleFiles(files){
    uploadedPreview.innerHTML = '';
    const arr = Array.from(files).slice(0,3);
    arr.forEach(f => {
      const card = document.createElement('div');
      card.style.display = 'inline-block';
      card.style.marginRight = '8px';
      card.style.borderRadius = '8px';
      card.style.overflow = 'hidden';
      card.style.border = '1px solid rgba(255,255,255,0.04)';
      card.style.width = '80px';
      card.style.height = '80px';
      if (f.type.startsWith('image/')) {
        const img = document.createElement('img');
        img.style.width='100%'; img.style.height='100%'; img.style.objectFit='cover';
        const reader = new FileReader();
        reader.onload = (ev) => { img.src = ev.target.result; };
        reader.readAsDataURL(f);
        card.appendChild(img);
      } else {
        card.textContent = f.name;
        card.style.display = 'flex';
        card.style.alignItems = 'center';
        card.style.justifyContent = 'center';
        card.style.fontSize = '12px';
        card.style.padding = '6px';
      }
      uploadedPreview.appendChild(card);
    });
  }

  // Small utility: determine if text should be dark on color
  function getContrast(hex){
    // convert hex to RGB and compute YIQ brightness
    const h = hex.replace('#','');
    const r = parseInt(h.substring(0,2),16);
    const g = parseInt(h.substring(2,4),16);
    const b = parseInt(h.substring(4,6),16);
    const yiq = ((r*299)+(g*587)+(b*114))/1000;
    return yiq > 150; // true if light -> dark text
  }

  // Animations
  function applyAnimation(name){
    preview.animate([],0); // clear
    preview.style.transition = 'transform .35s ease, opacity .3s ease';
    preview.style.transform = 'none';
    if (name === 'fade') {
      preview.animate([{opacity:0.3},{opacity:1}],{duration:500,fill:'forwards'});
    } else if (name === 'slide') {
      preview.animate([{transform:'translateY(20px)', opacity:0.6},{transform:'translateY(0)',opacity:1}],{duration:450,fill:'forwards'});
    } else if (name === 'pulse') {
      preview.animate([{transform:'scale(0.98)'},{transform:'scale(1.03)'},{transform:'scale(1)'}],{duration:600,fill:'forwards'});
    } else {
      // none
    }
  }

  // Accessibility: focus preview on keyboard events
  preview.addEventListener('keydown', (e) => {
    addLog('Preview keydown', e.key);
    if (e.key === ' ') { // space toggle shape
      e.preventDefault();
      preview.animate([{transform:'rotate(-3deg)'},{transform:'rotate(3deg)'},{transform:'rotate(0deg)'}],{duration:400});
    }
  });

  // Pointer / touch feedback
  preview.addEventListener('pointerdown', (e) => {
    addLog('Pointer down', `button:${e.button} x:${e.clientX} y:${e.clientY}`);
    preview.animate([{transform:'scale(0.995)'},{transform:'scale(1)'}],{duration:160});
  });

  // Clicks on chips update text
  chipText.addEventListener('click', () => {
    txt.focus();
    addLog('Chip clicked', 'Focus moved to text input');
  });

  // Observe visibility / resizing
  const ro = new ResizeObserver(entries => {
    for (const en of entries) {
      addLog('Resized', Math.round(en.contentRect.width) + '×' + Math.round(en.contentRect.height));
    }
  });
  ro.observe(preview);

  // Make log keyboard accessible: pressing "c" clears
  window.addEventListener('keydown', (e) => {
    if (e.key === 'c' && (e.ctrlKey || e.metaKey)) {
      logEl.innerHTML = '';
      addLog('Log cleared', 'Ctrl/Cmd+C pressed');
    }
  });

  // Initial setup values
  document.addEventListener('DOMContentLoaded', () => {
    addLog('Initial values set', `range:${range.value} color:${color.value}`);
    // ensure contrast for chip
    chipText.style.background = color.value + '22';
  });

</script>
</body>
</html>
